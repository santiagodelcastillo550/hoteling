<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Hoteling - Inicio</title>
    <link rel="stylesheet" th:href="@{/css/styles.css}">
</head>

<body>
	<!-- NAVBAR -->
    <nav>
	    <div class="navbar-left">
	        <h2><a th:href="@{/}" style="color:white; text-decoration:none;">Hoteling</a></h2>
	    </div>
	
	    <div class="navbar-right">
	        <!-- Si hay usuario logueado -->
	        <div th:if="${session.usuarioLogueado != null}">
	            <a th:href="@{/mis-reservas}" class="nav-btn">Mis Reservas</a>
	            <a th:href="@{/logout}" class="nav-btn logout">Cerrar sesión</a>
	        </div>
	
	        <!-- Si NO hay usuario logueado -->
	        <div th:if="${session.usuarioLogueado == null}">
	            <a th:href="@{/login}" class="nav-btn">Iniciar sesión</a>
	        </div>
	    </div>
	</nav>

    

    <!-- BUSCADOR -->
    <section class="search-section">
        <form th:action="@{/}" method="get">
            <input type="text" name="q" placeholder="Buscar por nombre o precio...">
            <button type="submit">Buscar</button>
        </form>
    </section>

    <!-- LISTA DE RECURSOS -->
	<section class="recursos-section">
	    <div class="recursos-container">
	        <div th:each="recurso : ${recursos}" class="recurso-card">
	            
	            <!-- Imagen -->
	            <div class="recurso-img-container">
	                <img th:src="@{/images/{foto}(foto=${recurso.foto})}" 
     					th:alt="${recurso.nombre}" class="detalle-img">
	            </div>
	
	            <!-- Contenido -->
	            <div class="recurso-content">
	                <h3 th:text="${recurso.nombre}">Nombre recurso</h3>
	                <p class="descripcion" th:text="${recurso.descripcion}">Descripción...</p>
	                <p><strong>Precio:</strong> 
	                    <span th:text="${#numbers.formatDecimal(recurso.precio, 1, 'POINT', 2, 'POINT')}"></span> €
	                </p>
	
	                <!-- Botón -->
	                <div class="recurso-actions">
	                    <button class="btn info-btn" 
	                            th:onclick="'location.href=\'/recursos/' + ${recurso.id} + '\';'">
	                        Información
	                    </button>
	                </div>
	            </div>
	
	        </div>
	    </div>
	</section>
</body>
</html>